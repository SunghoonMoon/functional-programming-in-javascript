# 2장 고계 자바스크립트

## 자바스크립트가 함수형 언어로 적합한 이유

### 왜 자바스크립트인가
- 편재성(어디에나 있음)
- 동적 형식이고 객체지향적 범용 언어이자 모바일 앱, 웹사이트, 웹서버, 데스크톱, 임베디드 앱, DB에 이르기까지 응용분야가 광대함
- 리스프, 스킴의 고계함수, 클로저, 배열 리터럴 등 공통점은 JS가 FP 기법을 활용할 수 있는데 초석이 됨
- JS는 꾸준히 개선되면서 ES6부터 화살표 함수, 상수, 이터레이터, 프라미스 등 함수형 프로그래밍에 걸맞는 기능이 많이 추가됨

## 자바스크립트는 다중 패러다임 개발이 가능한 언어
- 합성단위
    - 함수형: 함수
    - 객체지향형: 객체(클래스)
- 프로그래밍 스타일
    - 함수형: 선언적
    - 객체지향형: 명령형
- 데이터와 기능
    - 함수형: 독립적인 순수함수가 느슨하게 결합
    - 객체지향형: 클래스 안에서 메서드와 단단히 결합`
- 상태 관리
    - 함수형: 객체 불변 값으로 취급
    - 객체지향형: 인스턴스 메서드를 통해 객체를 변이 시킴
- 제어 흐름
    - 함수형: 함수와 재귀
    - 객체지향형: 루프와 조건 분기
- 스레드 안전
    - 함수형: 동시성 프로그래밍 기능
    - 객체지향형: 캡슐화하기 어렵움
- 캡슐화
    - 함수형: 모든 것이 불변이라 필요 없음
    - 객체지향형: 데이터 무결성을 지키기 위해 필요함


## 불변성 및 변경에 대한 정책
프로그램의 상태란 어느 한 시점에 찍은 모든 객체에 저장된 데이터의 스냅샷
- const: 객체 내부 상태 변화 봉쇄 불가능
  - 값 객체 패턴
- Object.freeze: 중첩된 객체의 속성까지 동결하는건 불가능
  - 일일이 수작업으로 deepFreeze 함수를 구현해서 중첩 구조를 동결해야됨
- 렌즈(함수형 레퍼런스): 람다 JS 라이브러리
  - 함수형 게터/세터 지원

## 고계함수와 일급함수
함수형 프로그래밍에서 함수는 작업의 기본 단위
FP의 함수는 수학책에 나오는 함수처럼 사용 가능한 결과를 낼 경우에만 유의미 하며, 그 외에는 외부 데이터 변경등의 부수효과를 일으킨다고 볼 수 있음
자바스크립트 함수는 실제로 객체이기 때문에 일급임
함수도 작동 원리는 일반 객체와 같기에 함수 인수로 전달하거나 함수를 반환 받을 수 있음 이런 함수를 고계함수라고 함

## 클로저와 스코프 개념
클로저는 함수를 선언할 당시으 환경에 함수를 묶어둔 자료구조
함수 선언부의 물리적 위치에 의존하므로 정적 스코프 혹은 어휘 스코프라고도 함


## 클로저의 활용
- 프라이빗 변수를 모방
- 서버 측 비동기 호출
- 가상의 블록 스코프 변수를 생성


## 마치며
- 자바스크립트는 OOP와 FP 양쪽 다 가능한 팔방미인 언어
- OOP에 불변성을 도입하면 함수형 프로그래밍을 멋직게 섞어 쓸 수 있음
- 고계/일급 함수는 함수형 자바스크립트를 구사하는 근간
- 클로저는 정보감춤, 모듈 개발뿐만 아니라 여러 자료형에 걸쳐 굵게 나뉜 함수에 원하는 기능을 매개변수로 넘기는 등 다양한 쓰임새를 자랑
