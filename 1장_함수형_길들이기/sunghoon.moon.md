#함수형으로 사고하기

이 책의 목표 - 자신의 개발 실력을 끌어올려 코드 품질을 드높이는 것

웹 플랫폼은 굉장히 빠른 속도로 발전 중이고 브라우저 역시 꾸준히 진화하고 있지만
요즘은 최종 사용자들의 요건이 웹 애플리케이션 설계 방식에 큰 영향을 끼침
자바스크립트 개발자들은 여러가지 구현방안을 모색하면서
그중 최선의 결과를 내는 프로그래밍 패러다임과 최상의 지침을 적용하기 시작

자바스크립트는 상태 공유가 보편적인 동적인 언어라서
조금만 시간이 지나도 복잡해지면서 가독성이 떨어지고 관리하기 어려운 코드가 됨

최근 유행하기 시작한 리액티브 프로그래밍은 데이터 흐름과 변경 전파에 초점을 둠
전반적으로 보면 이제 자바스크립트에서도 데이터 및 데이터를 다루는 함수에 대해 진지하게 고민해 봐야 됨

스스로 자문해봐야 할 애플리케이션의 설계 요소
- 확장성: 추가 기능을 지원하기 위해 계속 코드를 리팩터링해야 하는가?
- 모듈화 용이성: 파일 하나를 고치면 다른 파일도 영향을 받는가?
- 재사용성: 중복이 많은가?
- 테스트성: 함수를 단위 테스트하기 어려운가?
- 헤아리기 쉬움: 체계도 없고 따라가기 어려운 코드인가?

이중 한가지라도 예 또는 잘모르겠는데요 라고 대답한다면
함수형 프로그래밍은 적합한 프로그래밍 패러다임임

## 1.1 함수형 프로그래밍은 유용한가?
- 프로그래밍 언어 대부분에서 API형식으로 지원해줌
- FP 사고방식은 자바스크립트만의 매우 표현적인 특성을 가다듬어 깔끔하면서도 모듈적인 테스하기 좋고 간결한 코드를 작성하는데 도움이 됨
- 순수함수에 기반을 두고 이미 검증된 기법과 관례에 따라 구현하면 코드가 점점 복잡해지더라도 헤아리기 쉬운 방향으로 작성할 수 있음 전체 애플리케이션 품질을 향상시키고 언어를 잘 이해하게 되니 스킬도 향상됨

## 1.2 함수형 프로그래밍이란?
- 함수형 프로그래밍이란 한마디로 함수 사용을 강조하는 소프트웨어 개발 스타일
- 애플리케이션의 **부수효과(side effect)** 를 방지하고 **상태 변이(mutation of state)** 를 감소하기 위해 **데이터의 제어 흐름과 연산을 추상**

함수형 프로그래밍을 온전히 이해하려면 먼저 기본 개념을 숙지 해야됨
- 선언적 프로그래밍
- 순수함수
- 참조 투명성
- 불변성

### 1.2.1 함수형 프로그래밍은 선언적
- 함수형 프로그래밍은 큰 틀에서 **선언적** 프로그래밍 패러다임(내부적으로 코드를 어떻게 구현했는지 데이터는 어떻게 흘러가는지 밝히지 않은 채 연산/작업을 표현)에 속함
- 아직은 자바, C#, C++ 등 구조적/객체지향 언어가 지원하는 **명령형** 또는 **절차적** 모델이 더 많이 쓰임
- 명령형 프로그래밍은 컴퓨터에게 원하는 작업을 어떻게 하는지 상세히 이름
- 선언적 프로그래밍은 프로그램 로직이 무엇인지 **표현식** 으로 나타냄(ex: SQL)

### 1.2.2 순수함수와 부수효과
- 순수함수 특징
  - 주어진 입력에만 의존할 뿐 평가 도중 또는 호출간 변경될 수 있는 숨겨진 값이나 외부 상태와 무관하게 작동
  - 전역 객체나 레퍼런스로 전달된 매개변수를 수정하는 등 함수 스코프 밖에서 어떠한 변경도 일으키지 않음
- 위의 요소가 지켜지지 않으면 불순하다고 볼 수 있음
- 부수효과가 발생하는 상황
  - 전역 범위에서 변수, 속성, 자료구조를 변경
  - 함수의 원래 인수 값을 변경
  - 사용자 입력을 처리
  - 예외를 일으킨 해당 함수가 붙잡지 않고 그대로 예외를 던짐
  - 화면 또는 로그파일에 출력
  - HTML 문서, 브라우저 쿠키, DB에 정의
- 함수형 프로그래밍은 모든 상태 변이를 근절하는게 아니라 상태 변이를 줄이고 관리할 수 있는 프레임 워크를 제공하여 순수/불순 함수를 구분하자는 것

### 1.2.3 참조 투명성과 치환성
- 참조 투명성은 순수함수를 정의하는 좀 더 공식적인 방법
- 순수성이란 함수의 인수와 결괏값 사이의 순수한 매핑 관계를 말함
- 어떤 함수가 동일한 입력을 받았을 때 동일한 결과를 내면 참조 투명한 함수라 함
- 이런 함수는 코드를 테스트하기 쉽고 전체 로직을 파악하는 것도 쉬움

### 1.2.4 불변 데이터 유지하기
- 불변 데이터는 한번 생성된 후에는 절대 바뀌지 않음
- 자바스크립트의 모든 기본형은 처음부터 불변임
- 그러나 배열등의 객체는 불변이 아니어서 함수 인수로 전달해도 원래 내용이 변경되어 부수효과가 발생할 소지는 남아 있음


### 함수형 프로그래밍의 간명한 정의
> 함수형 프로그래밍은 외부에서 관찰 가능한 부수 효과가 제거된 불변 프로그램을 작성하기 위해 순수함수를 선언적으로 평가하는 것

## 1.3 함수형 프로그래밍의 좋은 점

### 복잡한 작업을 분해하도록 유도
### 데이터를 매끄럽게 체이닝하여 처리
### 복잡한 비동기 애플리케이션에서도 신속하게 반응

## 마치며
- 순수함수를 사용한 코드는 전역 상태를 바꾸거나 깨뜨릴 일이 전혀 없으므로 테스트, 유지보수가 더 쉬운 코드를 개발하는데 도움이 됨
- 함수형 프로그래밍은 코드를 선언적으로 작성하므로 헤아리기 쉽고 전체 애플리케이션의 가독성 역시 향상됨
- 또 함수와 람다 표현식을 조합하여 깔끔하게 코딩을 할 수 있음
- 여러 원소로 구성된 컬렉션 데이터는 map, reduce 같은 연산을 함수 체인으로 연결하여 물흐르듯 매끄럽게 처리 할 수 잇음
- 함수형 프로그래밍은 함수를 기본적인 구성요소로 취급, 이는 일급/고계함수 개념에 기반을 두며 코드의 모듈성 재사용성을 높임
- 리액티브/함수형 프로그래밍을 융합하면 이벤트 기반 프로그램 특유의 복잡성을 줄일 수 있음

